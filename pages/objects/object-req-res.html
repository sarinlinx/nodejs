<!doctype html>
<html lang="en">

<head>
  <!-- Required meta tags -->
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <link rel="stylesheet" type="text/css" href="../../_css/styles.css">

  <title>Req and Res Objects</title>
</head>

<body>
  <nav class="navbar">
    <a href="../../index.html">Back to homepage</a>
    <a class="nav-page nav-active">http</a>
  </nav>





  <h1>The req Object</h1>
  <div class="text-section">
    <p>The <span class="code">req</span> Object is half of the request/response cycle. It contains information about
      incoming client requests.</p>
  </div>


  <h2>req.url</h2>
  <section class="code-section-container">
    <div class="code-text-section">
      <p><span class="code">req.url</span> displays the path of the web page that accessed the website.</p>
      <p>For example, if the app listens on port 3000, visiting the website (or localhost) displays just a forward slash
        <span class="code">/</span> because this is the base URL of the app.
      </p>
    </div>
    <div class="code-block-section-w60">
      <pre class="example"><span class="code-nodejs">const http = require('http');

const server = http.createServer((req, res) => {
  console.log(<span class="code-highlight">req.url</span>);
});
       
server.listen(3000);</span></pre>
    </div>
  </section>

  <section class="code-section-container">
    <div class="code-text-section">
      <p class="output-heading">Output</p>
    </div>
    <div class="code-block-section-w60">
      <pre class="example"><span class="code-output">/</span></pre>
    </div>
  </section>







































  <h2>req.method</h2>
  <section class="code-section-container">
    <div class="code-text-section">
      <p><span class="code">req.method</span> is the HTTP method of the request (GET, POST, PUT, DELETE).</p>
      <p>For example, visiting the website (or localhost) displays <span class="code">/ GET</span>. This is the URL path
        and the HTTP method used to request it.</p>
    </div>

    <div class="code-block-section-w60">
      <pre class="example"><span class="code-nodejs">const http = require('http');

const server = http.createServer((req, res) => {
  console.log(<span class="code-highlight">req.url, req.method</span>);
});
       
server.listen(3000);</span></pre>
    </div>
  </section>
  <section class="code-section-container">
    <div class="code-text-section">
      <p class="output-heading">Output</p>
    </div>
    <div class="code-block-section-w60">
      <pre class="example"><span class="code-output">/ GET</span></pre>
    </div>
  </section>





  <h2>req.headers</h2>
  <section class="code-section-container">
    <div class="code-text-section">
      <p><span class="code">req.headers</span> displays the Headers requested from the client.</p>
      <p>For example, visiting the website (or localhost) displays <span class="code">/ GET</span>, followed by the
        Headers in JSON format.</p>
    </div>

    <div class="code-block-section-w60">
      <pre class="example"><span class="code-nodejs">const http = require('http');

const server = http.createServer((req, res) => {
  console.log(<span class="code-highlight">req.url, req.method, req.headers</span>);
});
       
server.listen(3000);</span></pre>
    </div>
  </section>
  <section class="code-section-container">
    <div class="code-text-section">
      <p class="output-heading">Output</p>
    </div>
    <div class="code-block-section-w60">
      <pre class="example"><span class="code-output">/ GET {
  <span class="code-json-key">host:</span> 'localhost:3000',
  <span class="code-json-key">connection:</span> 'keep-alive',
  'cache-control': 'max-age=0',
  'sec-ch-ua': '"Not A(Brand";v="99", "Google Chrome";v="121", "Chromium";v="121"',
  'sec-ch-ua-mobile': '?0',
  'sec-ch-ua-platform': '"macOS"',
  'upgrade-insecure-requests': '1',
  'user-agent': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/121.0.0.0 Safari/537.36',
  <span class="code-json-key">accept:</span> 'text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.7',
  'sec-fetch-site': 'none',
  'sec-fetch-mode': 'navigate',
  'sec-fetch-user': '?1',
  'sec-fetch-dest': 'document',
  'accept-encoding': 'gzip, deflate, br',
  'accept-language': 'en-US,en;q=0.9,es;q=0.8,la;q=0.7'
}</span></pre>
    </div>
  </section>






  <h1>The res Object</h1>
  <div class="text-section">
    <p>The <span class="code">res</span> Object is what the application sends after it receives an HTTP request.</p>
  </div>


  <h2>res.setHeader</h2>
  <section class="code-section-container">
    <div class="code-text-section">
      <p> <span class="code">res.setHeader</span> sets a single Header value.</p>
      <p>It consists of a name:value pair.</p>
    </div>
    <div class="code-block-section-w60">
      <pre class="example"><span class="code-nodejs">res.setHeader('Content-Type', 'text/html');</span></pre>
    </div>
  </section>



  <h2>res.write</h2>
  <section class="code-section-container">
    <div class="code-text-section">
      <p> <span class="code">res.write</span> is used to write content (text, HTML, etc...) to the response.</p>
    </div>
    <div class="code-block-section-w60">
      <pre class="example"><span class="code-nodejs">res.write('&lt;html&gt;');
res.write('&lt;head&gt;&lt;title&gt;My First Page&lt;/title&gt;&lt;/head&gt;');
res.write('&lt;body&gt;&lt;h1&gt;Hello from my Node.js Server!&lt;/h1&gt;&lt;/body&gt;');
res.write('&lt;/html&gt;');</span></pre>
    </div>
  </section>


  <h2>res.end</h2>
  <div class="text-section">
    <p> <span class="code">res.end</span> tells NodeJS to stop writing the response.</p>
  </div>



  <h3>Create an HTML response</h3>
  <section class="code-section-container">
    <div class="code-text-section">
      <p>......</p>
    </div>
    <div class="code-block-section-w60">
      <pre class="example"><span class="code-nodejs">const http = require('http');

const server = http.createServer((req, res) => {
  console.log(req.url, req.method, req.headers);

  <span class="code-highlight">res.setHeader('Content-Type', 'text/html');
  res.write('&lt;html&gt;');
  res.write('&lt;head&gt;&lt;title&gt;My First Page&lt;/title&gt;&lt;/head&gt;');
  res.write('&lt;body&gt;&lt;h1&gt;Hello from my Node.js Server!&lt;/h1&gt;&lt;/body&gt;');
  res.write('&lt;/html&gt;');</span>
  <span class="code-comment">// Tell NodeJS we're finished creating the response. The response cannot be changed after this</span>
  <span class="code-highlight">res.end();</span>
});

<span class="code-comment">// Start a process where NodeJS will keep listening for incoming requests</span>
server.listen(3000);</span></pre>
    </div>
  </section>


  <section class="code-section-container">
    <div class="code-text-section">
      <p class="output-heading">Webpage Output</p>
    </div>
    <div class="code-block-section-w60">
      <pre class="example"><span class="code-output">Hello from my Node.js Server!</span></pre>
    </div>
  </section>

  <section class="code-section-container">
    <div class="code-text-section">
      <p class="output-heading">Dev Tools Output</p>
      <ol>
        <li>Open Dev Tools.</li>
        <li>Navigate to <span class="text-object">Network</span> tab and Reload the page.</li>
        <li>Click the localhost file name.</li>
        <li>Click the <span class="text-object">Response</span> tab to view the HTML created by <span
            class="code">res.write</span>.</li>
      </ol>
    </div>
    <div class="code-block-section-w60">
      <pre class="example"><span class="code-output">&lt;html&gt;
    &lt;head&gt;
        &lt;title&gt;My First Page&lt;/title&gt;
    &lt;/head&gt;
    &lt;body&gt;
        &lt;h1&gt;Hello from my Node.js Server!&lt;/h1&gt;
    &lt;/body&gt;
&lt;/html&gt;</span></pre>
    </div>
  </section>


  <section class="code-section-container">
    <div class="code-text-section">
      <p class="output-heading">Terminal Output</p>
    </div>
    <div class="code-block-section-w60">
      <pre class="example"><span class="code-output"><span class="code-json-key">/ GET {
  host:</span> 'localhost:3000',
  <span class="code-json-key">connection:</span> 'keep-alive',
  'cache-control': 'max-age=0',
  'sec-ch-ua': '"Not A(Brand";v="99", "Google Chrome";v="121", "Chromium";v="121"',
  'sec-ch-ua-mobile': '?0',
  'sec-ch-ua-platform': '"macOS"',
  'upgrade-insecure-requests': '1',
  'user-agent': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/121.0.0.0 Safari/537.36',
  <span class="code-json-key">accept:</span> 'text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.7',
  'sec-fetch-site': 'none',
  'sec-fetch-mode': 'navigate',
  'sec-fetch-user': '?1',
  'sec-fetch-dest': 'document',
  'accept-encoding': 'gzip, deflate, br',
  'accept-language': 'en-US,en;q=0.9,es;q=0.8,la;q=0.7'
  <span class="code-json-key">}
/favicon.ico GET {
  host:</span> 'localhost:3000',
  <span class="code-json-key">connection:</span> 'keep-alive',
  'sec-ch-ua': '"Not A(Brand";v="99", "Google Chrome";v="121", "Chromium";v="121"',
  'sec-ch-ua-mobile': '?0',
  'user-agent': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/121.0.0.0 Safari/537.36',
  'sec-ch-ua-platform': '"macOS"',
  <span class="code-json-key">accept:</span> 'image/avif,image/webp,image/apng,image/svg+xml,image/*,*/*;q=0.8',
  'sec-fetch-site': 'same-origin',
  'sec-fetch-mode': 'no-cors',
  'sec-fetch-dest': 'image',
  <span class="code-json-key">referer:</span> 'http://localhost:3000/',
  'accept-encoding': 'gzip, deflate, br',
  'accept-language': 'en-US,en;q=0.9,es;q=0.8,la;q=0.7'
}</span></pre>
    </div>
  </section>













</body>

</html>